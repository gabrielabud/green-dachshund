
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMTc1IDE1OTAgODM5IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMTc1IDE1OTAgODM5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggZmlsbD0iIzlBQ0QzMiIgZD0iTTE1ODQuMiw1NzNjLTkuNywxMC4yLTY4LjEsNzQuMS0xNDkuOSw3MSAgYy0xNy41LTAuNy0zNC43LTYuMS01MS44LTExLjFjLTE5LjItNS43LTM1LjYtMTIuMy01My44LTIwLjljLTE2LTcuNy0zMC41LTE1LjgtNDcuNi0yMC43Yy04LjEtMi40LTI0LjgtOC4yLTMyLjUtMTEuOSAgYy0xLjMtMC43LTEuNi0wLjUtMS41LTAuM2MtMTEuNC01LjctMjQuOC0xMC4yLTQwLjQtMTMuNGMtMTcuOS0zLjYtMzQuNC03LjItNTMuMS04LjNjLTQzLjMtMi45LTg3LjgtNC40LTEzMS4yLTEuMyAgYy0xNS44LDEuMi0xMzkuOC0xLjktMTU3LjUtMS45Yy0xNy4xLDAtMTIzLjYtMTAuMy0xNTkuNC0xNi42Yy0xOS41LTMuMy05My40LTIzLjEtMTExLjgtMjkuM2MtNDIuNC0xNC4yLTYzLjYtMzMuOS03Mi41LTM3ICBjLTcuNC0yLjctMTguMi00LjYtMjMuNi0xMC4zYy00LjktNS0zNC4yLTczLTM2LjQtNzkuNmMtMTAuNy0zMi4xLTc5LjItMTgxLjEtMTIyLjItMTk1LjJjLTE0LjYtNC44LTI0LjktNi42LTQxLjUtNi42ICBjLTM2LjctMC4xLTY5LjMsMTEuMy0xMDIuNiwyNy43Yy03LDMuNC0xMy4yLDguMi0xOS45LDEyLjVjLTE1LjgsMTAuMS0xNS4yLDI5LjgtMjYuMiwzNS45Yy03LDQtMTM0LjEsNzAuOC0xMzkuOSw4MS41ICBjLTYuOSwxMi41LDguMSwyOC4yLDIwLjgsMzMuMWMxNi42LDYuNCwyMC40LDIxLjMsMzMuOSwyMmMxMC4zLDAuNSwxMC45LDYuOCwyNS43LDQuOWMxMS45LTEuNSwxMTUuNS01LjcsMTMyLjgtNC40ICBjMTEuOSwwLjksMzUuMSwwLDQxLjUsMTMuNGMyLjYsNS44LDMuNCwxNS41LDMuOCwyMmMwLjcsOC4zLDEuMywxNiwxLjMsMjQuNmMwLDE3LjgsNC44LDM0LjIsOS4zLDUwLjcgIGM0LjYsMTcuMiwxMy42LDM0LjEsMTUuNCw1MS44YzMuMywzNC43LTkuMSw5NC43LDMsMTM2LjZjMzIuMywxMTAuOCwxMzIuNiwxNjIsMTQ3LjIsMTY4LjljNi45LDMuMywxMy45LDYuNCwyMC43LDkuOCAgYzguMyw0LjIsMTEuNSw2LDExLjUsNnMtMC44LDQxLjctOS4zLDU2LjRjLTMuMiw1LjYtNS40LDEzLjYtMTAuMywxNy45Yy02LjUsNS43LTEzLjksMS45LTIwLjEtMC4xYy03LjctMi4zLTEyLjEsMi41LTE4LjQsNyAgYy02LjIsNC40LTEyLjYsNS42LTE4LjgsMTAuMWMtMy4zLDIuNC02LDUuMy03LjgsOC41Yy0zLjMsMC4xLTYuNCwwLjctMTAuNSwzLjJjLTMuNCwyLjEtMTQuNywxMC45LTguNiwxNC4zICBjMy42LTQuNiwxMS0zLjgsMTcuMi0zLjNjMS45LDQsNi40LDcsMTQsNy43YzUuNiwwLjQsNy4yLTEuNywxMS43LTIuOWM1LjYtMS41LDQuNSwwLDguMywzLjdjNi44LDYuNiwyMS43LDQsMjEuNSwzLjMgIGMwLDAsMTguOCwwLjgsMjEuNywxLjFjNC4yLDAuNCw4LjktMC4xLDEyLjYtMC44YzguNS0xLjYsMTEuOS0zLDE1LjYtOS4zYzYuNSwwLjMsMTguNy0xLjMsMjIuMS0wLjhjNC45LDAuOCw2LjktMS4xLDEwLjYtMy44ICBjNS43LTQuMiwxMy41LTYuOSwxNS42LTEzLjhjMi41LTguMSw0LjUtMTUuNiw0LjUtMjQuNGMwLTguMiwwLjEtMTcsMy0yNC40YzEuMy0zLjQsMy44LTYuMSw0LjgtOS44YzAuOS00LDAuOS04LjMsMS42LTEyLjUgIGMwLjQtMi4xLDAuNy00LjIsMC45LTYuNGMxMS40LDEuMywyNi40LDEuOSw0NCwwLjFjNjYuNS02LjUsMTc0LjktNDMuMiwxOTguOC01My4xYzM0LjgtMTQuNiw3MS44LTI0LDEwNi43LTM0LjggIGMzOS40LTEyLjMsODAuNi0xMS40LDEyMi4zLTExLjRjMjcuMywwLDUzLjgsMS45LDgwLjMsNC40YzExLjEsMS4xLDE3LjYsNi4xLDI1LjgsMTMuNWM1LjYsNSwxNy44LDEzLjEsMjMuMSwxNy40ICBjNy45LDYuNCwyOC45LDYuMSw0MC4xLDYuMmM4LjIsMC4xLDQ5LjIsNC45LDQ5LjIsNC45czIuOSwyMC44LDIuOSwyOC4yYzAsMTYuOC00LjgsMzMuOS04LjIsNDkuN2MtMC44LDMuMy0xLjUsNi42LTQuNCw5ICBjLTQuOCw0LTUuNCwwLjMtMTAuMSwwLjNjLTUuNCwwLTEzLjYsNS43LTE3LjYsOS4zYy0yLjQsMi4zLTUuNCw2LTYuMiw5LjNjLTAuNSwyLDAuNSw0LjQsMC4xLDYuMmMtMC40LDEuNi0yLjMsMy42LTIuNCw0LjkgIGMwLDAuMSwwLDAuMSwwLDAuM2MtNS42LDQtMTEuNywxMC4yLTExLjksMTMuMmMxMi43LTAuOSwxMi43LTAuOSwxOS4yLTMuNGMyLjQsMC45LDUsMS4zLDcuNiwxLjZjNC42LDAuNCw3LjMtMS4xLDExLjQtMS43ICBjNC44LTAuOCw0LjgtMC40LDkuMywxLjdjNy40LDMuNywxNS42LDQsMjMuOCwxLjljNy0xLjcsMTQuOC0zLjcsMTkuMy05LjRjNC44LTYsNS44LTEzLDYuNS0yMC40YzAuOC04LjksMS4zLTE3LjIsMi45LTI1LjggIGMxLjUtNy44LDEwLjYtNjIsMTUuOC03NC41bDcuMywxLjFjMC0wLjEsMTQuMy0yLjksMTguNy0yLjFjNS4zLDAuOSwxNS4yLDYuMSwxNS4yLDExLjdjMC4zLDIwLjUsMTgsNzEuNCwxMi42LDgzLjEgIGMtMy4zLDcuMy0xOC43LDE5LjItMjUuNiwyMy42Yy02LjYsNC4yLTYuNSw5LjgtOC43LDE3LjJjLTAuOCwwLTEuOSwwLjQtMi44LDAuM2MtMC4xLDItMC4zLDMuNy0wLjMsNS40Yy0yLjUsMC44LTUsMS45LTcuNCwzLjQgIGMtOC4xLDUuNi01LjIsOC4zLDQuNCw3LjZjMi4zLTAuMSw0LjQtMC40LDYuNi0wLjdjMS4yLDEuMSwyLjYsMiw0LjYsMi44YzMuNywxLjMsNi44LDEuNiwxMC41LDEuMWMxLjUtMC4zLDMuNC0yLjUsNS4yLTIuMyAgYzAuOCwwLjEsMS43LDEuMSwyLjcsMmMtMi4xLDIuNS00LjEsNS4zLTUuNyw4LjJjMy40LDAuOSw5LjUtMS4yLDE1LTQuMWMxMi43LDIuNywzMS4xLDAuNCw0MC01LjdjMS43LTEuMiwzLjItMS4xLDQuMi0zLjMgIGMwLjgtMS42LTAuMy01LjItMC4xLTUuNGMxLjctMy43LDYuMi01LjMsOS40LTcuOGM5LTcsMS42LTkuMy0yLjQtMTYuOGMtMy40LTYuNi0zLTE3LjItMy0yNC42Yy0wLjEtOC43LTYuMi01MS45LDIuMy03Ny42ICBjMi41LTcuNiw2LjUtMTQuMyw1LjctMjMuMWMtMC43LTguMSwwLjctMTYuOCwxLjMtMjQuOGMwLjctOC4zLTAuMy0xNC43LTcuNi0xOS41Yy01LjYtMy43LTEyLjktNC40LTE5LjItNi44ICBjLTYuOC0yLjUtMjMuMSwzLjMtMzguMy0yMS43Yy04LjUtMTMuOS0xNy44LTI2LjktMjMuOC00Mi4xYy02LTE1LjEtNy45LTMyLjUtMTAuNy00OC42Yy0wLjgtNS4yLTIuNy0xNS42LTcuNC0yOC4yICBjMzMuNSwxMC43LDkwLjUsMjYuOCwxMjkuNiwyMy4xYzg3LjctOC4yLDEyMy45LTU3LjQsMTI5LjUtNjMuNkMxNTc3LjgsNTk1LjIsMTU4NS44LDU4OC4xLDE1ODQuMiw1NzN6Ii8+Cjwvc3ZnPgo=" alt="logo" width="220">

# Green Dachshund

# Instructions
- $ git clone git@gitlab.com:gabrielabud/green-dachshund.git --> $ git checkout develop 
- $ npm install
- $ psql --> CREATE DATABASE green_dachshund; CREATE DATABASE green_dachshund_test;
- $ knex migrate:latest --> for running the database migrations on the development db green_dachshund
- $ knex migrate:latest --env test -> for running the db migrations on the test db green_dachshund_test
- To be able to query sampled data direclty from the development database directly import the data found in ./src/db/items.json into green_dachshund. 
  I have previously exported the json file from the sqlite database provided.
- $ npm run start --> for running the server

- $ npm run test:integration --> for running the tests.
  The seed data for the tests it's located at ./src/db/data and represents a smaller selection of data from the sqlite db provided in the challenge.

# Technologies
- I have build the API using Node.js and Express server framework
- The database is PostgresSQL, having used Knex for connecting to and querying the database
- For integration testing I have used Mocha(test framework running on Node.js), Chai(assertion library) and Chai-HTTP(making the http requests)

# Design
The API endpoints implemented is GET /search with optional query strings: searchTerm, lat and lng 
--> /search?searchTerm=camera&lat=51.948&lng=0.172943

- If no query strings are provided, the endpoint will return the first 20 items from the database.
- It is possible to provide only a searchTerm and no lat and lng coordinates, the items being filtered only by item_name.
- The user could only provide lat and lng, the results being the closest items by distance no matter the name of the items.

# If I had more time I would have:
- unit tested the db queries, controller and router files
- implemented a logger
- created a swagger for documenting the API, where I would have mentioned the required and option query strings
- used a middleware to validate the swagger files


 

 


